id: B04
name: "Constants and Utilities"
phase: 0
phase_name: "Foundation"

goal: |
  Create centralized constants and utility functions that will be 
  used throughout the application. This includes supported languages,
  AI providers, tone presets, and common helper functions.

dependencies:
  - B03

files_to_create:
  - id: F078
    path: "src/lib/constants.ts"
    content: |
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // [F078] src/lib/constants.ts
      // Application Constants
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      
      import type { 
        OutputLanguage, 
        AIProviderName, 
        TonePreset,
        AppLocale,
        NavigationItem 
      } from './types';
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // APP INFO
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const APP_NAME = 'CV Tailor';
      export const APP_VERSION = '1.0.0';
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // SUPPORTED LOCALES (UI Language)
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const SUPPORTED_LOCALES: AppLocale[] = ['en', 'fa'];
      export const DEFAULT_LOCALE: AppLocale = 'en';
      
      export const LOCALE_CONFIG: Record<AppLocale, { 
        name: string; 
        nativeName: string; 
        dir: 'ltr' | 'rtl';
        flag: string;
      }> = {
        en: { name: 'English', nativeName: 'English', dir: 'ltr', flag: 'ğŸ‡¬ğŸ‡§' },
        fa: { name: 'Persian', nativeName: 'ÙØ§Ø±Ø³ÛŒ', dir: 'rtl', flag: 'ğŸ‡®ğŸ‡·' },
      };
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // OUTPUT LANGUAGES (Document output)
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const SUPPORTED_OUTPUT_LANGUAGES: {
        code: OutputLanguage;
        label_en: string;
        label_fa: string;
        flag: string;
      }[] = [
        { code: 'en', label_en: 'English', label_fa: 'Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ', flag: 'ğŸ‡¬ğŸ‡§' },
        { code: 'fa', label_en: 'Persian (Farsi)', label_fa: 'ÙØ§Ø±Ø³ÛŒ', flag: 'ğŸ‡®ğŸ‡·' },
        { code: 'fr', label_en: 'French', label_fa: 'ÙØ±Ø§Ù†Ø³ÙˆÛŒ', flag: 'ğŸ‡«ğŸ‡·' },
        { code: 'de', label_en: 'German', label_fa: 'Ø¢Ù„Ù…Ø§Ù†ÛŒ', flag: 'ğŸ‡©ğŸ‡ª' },
        { code: 'es', label_en: 'Spanish', label_fa: 'Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ', flag: 'ğŸ‡ªğŸ‡¸' },
        { code: 'ar', label_en: 'Arabic', label_fa: 'Ø¹Ø±Ø¨ÛŒ', flag: 'ğŸ‡¸ğŸ‡¦' },
        { code: 'zh', label_en: 'Chinese', label_fa: 'Ú†ÛŒÙ†ÛŒ', flag: 'ğŸ‡¨ğŸ‡³' },
        { code: 'tr', label_en: 'Turkish', label_fa: 'ØªØ±Ú©ÛŒ', flag: 'ğŸ‡¹ğŸ‡·' },
      ];
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // AI PROVIDERS
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const SUPPORTED_AI_PROVIDERS: {
        name: AIProviderName;
        label: string;
        website: string;
        icon: string;
        keyPlaceholder: string;
      }[] = [
        { 
          name: 'openai', 
          label: 'OpenAI', 
          website: 'https://platform.openai.com',
          icon: 'brain',
          keyPlaceholder: 'sk-...'
        },
        { 
          name: 'anthropic', 
          label: 'Anthropic (Claude)', 
          website: 'https://console.anthropic.com',
          icon: 'bot',
          keyPlaceholder: 'sk-ant-...'
        },
        { 
          name: 'google', 
          label: 'Google AI (Gemini)', 
          website: 'https://aistudio.google.com',
          icon: 'sparkles',
          keyPlaceholder: 'AIza...'
        },
      ];
      
      export const DEFAULT_MODELS: Record<AIProviderName, string> = {
        openai: 'gpt-4o',
        anthropic: 'claude-3-5-sonnet-20241022',
        google: 'gemini-1.5-pro',
      };
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // TONE PRESETS
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const TONE_PRESETS: {
        value: TonePreset;
        label_en: string;
        label_fa: string;
        description_en: string;
        description_fa: string;
      }[] = [
        { 
          value: 'formal', 
          label_en: 'Formal', 
          label_fa: 'Ø±Ø³Ù…ÛŒ',
          description_en: 'Professional and traditional tone',
          description_fa: 'Ù„Ø­Ù† Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø³Ù†ØªÛŒ'
        },
        { 
          value: 'semi-formal', 
          label_en: 'Semi-Formal', 
          label_fa: 'Ù†ÛŒÙ…Ù‡â€ŒØ±Ø³Ù…ÛŒ',
          description_en: 'Balance between formal and casual',
          description_fa: 'ØªØ¹Ø§Ø¯Ù„ Ø¨ÛŒÙ† Ø±Ø³Ù…ÛŒ Ùˆ ØºÛŒØ±Ø±Ø³Ù…ÛŒ'
        },
        { 
          value: 'professional', 
          label_en: 'Professional', 
          label_fa: 'Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ',
          description_en: 'Business-appropriate and competent',
          description_fa: 'Ù…Ù†Ø§Ø³Ø¨ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ùˆ Ø´Ø§ÛŒØ³ØªÙ‡'
        },
        { 
          value: 'friendly', 
          label_en: 'Friendly', 
          label_fa: 'Ø¯ÙˆØ³ØªØ§Ù†Ù‡',
          description_en: 'Warm and approachable',
          description_fa: 'Ú¯Ø±Ù… Ùˆ ØµÙ…ÛŒÙ…ÛŒ'
        },
        { 
          value: 'creative', 
          label_en: 'Creative', 
          label_fa: 'Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡',
          description_en: 'Unique and imaginative',
          description_fa: 'Ù…Ù†Ø­ØµØ±Ø¨Ù‡â€ŒÙØ±Ø¯ Ùˆ ØªØ®ÛŒÙ„ÛŒ'
        },
        { 
          value: 'confident', 
          label_en: 'Confident', 
          label_fa: 'Ù…Ø·Ù…Ø¦Ù†',
          description_en: 'Assertive and self-assured',
          description_fa: 'Ù‚Ø§Ø·Ø¹ Ùˆ Ø¨Ø§ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ Ù†ÙØ³'
        },
      ];
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // CV FIELDS
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const CV_REQUIRED_FIELDS = [
        'personal_info.full_name',
        'personal_info.email',
        'personal_info.phone',
        'personal_info.summary',
      ] as const;
      
      export const CV_RECOMMENDED_FIELDS = [
        'personal_info.location',
        'personal_info.linkedin_url',
        'work_experience',
        'education',
        'skills',
      ] as const;
      
      export const CV_SECTION_LABELS: Record<string, { en: string; fa: string }> = {
        personal_info: { en: 'Personal Information', fa: 'Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ' },
        work_experience: { en: 'Work Experience', fa: 'Ø³ÙˆØ§Ø¨Ù‚ Ú©Ø§Ø±ÛŒ' },
        education: { en: 'Education', fa: 'ØªØ­ØµÛŒÙ„Ø§Øª' },
        skills: { en: 'Skills', fa: 'Ù…Ù‡Ø§Ø±Øªâ€ŒÙ‡Ø§' },
        certifications: { en: 'Certifications', fa: 'Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§' },
        languages: { en: 'Languages', fa: 'Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§' },
        projects: { en: 'Projects', fa: 'Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§' },
        additional_sections: { en: 'Additional', fa: 'Ø³Ø§ÛŒØ±' },
      };
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // FILE LIMITS
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const MAX_FILE_SIZE_MB = 10;
      export const MAX_FILE_SIZE_BYTES = MAX_FILE_SIZE_MB * 1024 * 1024;
      
      export const ACCEPTED_CV_FILE_TYPES = {
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],
        'text/markdown': ['.md'],
        'text/plain': ['.txt'],
      };
      
      export const ACCEPTED_TEMPLATE_FILE_TYPES = {
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],
        'text/markdown': ['.md'],
      };
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // NAVIGATION
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const MAIN_NAVIGATION: NavigationItem[] = [
        { id: 'dashboard', label_key: 'nav.dashboard', href: '/dashboard', icon: 'LayoutDashboard' },
        { id: 'cv-manager', label_key: 'nav.cv_manager', href: '/cv-manager', icon: 'FileText' },
        { id: 'new-application', label_key: 'nav.new_application', href: '/new-application', icon: 'PlusCircle' },
        { id: 'applications', label_key: 'nav.applications', href: '/applications', icon: 'FolderOpen' },
        { id: 'prompts', label_key: 'nav.prompts', href: '/prompts', icon: 'MessageSquare' },
        { id: 'settings', label_key: 'nav.settings', href: '/settings', icon: 'Settings' },
      ];
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // PROMPT CATEGORIES
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const PROMPT_CATEGORIES = [
        { id: 'general', label_en: 'General', label_fa: 'Ø¹Ù…ÙˆÙ…ÛŒ' },
        { id: 'tech', label_en: 'Technology', label_fa: 'ÙÙ†Ø§ÙˆØ±ÛŒ' },
        { id: 'creative', label_en: 'Creative', label_fa: 'Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡' },
        { id: 'academic', label_en: 'Academic', label_fa: 'Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ÛŒ' },
        { id: 'executive', label_en: 'Executive', label_fa: 'Ù…Ø¯ÛŒØ±ÛŒØªÛŒ' },
      ];
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // APPLICATION STATUS
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      export const APPLICATION_STATUS_CONFIG: Record<string, {
        label_en: string;
        label_fa: string;
        color: string;
        icon: string;
      }> = {
        input: { label_en: 'Input', label_fa: 'ÙˆØ±ÙˆØ¯ÛŒ', color: 'gray', icon: 'Edit' },
        processing: { label_en: 'Processing', label_fa: 'Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´', color: 'blue', icon: 'Loader' },
        clarification: { label_en: 'Clarification', label_fa: 'Ù¾Ø±Ø³Ø´', color: 'yellow', icon: 'HelpCircle' },
        draft_ready: { label_en: 'Draft Ready', label_fa: 'Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ø¢Ù…Ø§Ø¯Ù‡', color: 'purple', icon: 'FileCheck' },
        editing: { label_en: 'Editing', label_fa: 'ÙˆÛŒØ±Ø§ÛŒØ´', color: 'orange', icon: 'Pencil' },
        finalized: { label_en: 'Finalized', label_fa: 'Ù†Ù‡Ø§ÛŒÛŒ', color: 'green', icon: 'CheckCircle' },
      };

  - id: F080
    path: "src/lib/helpers.ts"
    content: |
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // [F080] src/lib/helpers.ts
      // Utility Functions
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      
      import { type ClassValue, clsx } from 'clsx';
      import { twMerge } from 'tailwind-merge';
      import type { AppLocale } from './types';
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // CLASSNAMES
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Merge Tailwind classes with clsx
       */
      export function cn(...inputs: ClassValue[]): string {
        return twMerge(clsx(inputs));
      }
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // ID GENERATION
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Generate a unique UUID
       */
      export function generateId(): string {
        return crypto.randomUUID();
      }
      
      /**
       * Generate a short ID (8 characters)
       */
      export function generateShortId(): string {
        return crypto.randomUUID().split('-')[0];
      }
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // DATE FORMATTING
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Format a date string for display
       */
      export function formatDate(
        dateString: string, 
        locale: AppLocale = 'en',
        options?: Intl.DateTimeFormatOptions
      ): string {
        const localeCode = locale === 'fa' ? 'fa-IR' : 'en-US';
        const defaultOptions: Intl.DateTimeFormatOptions = {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
        };
        return new Date(dateString).toLocaleDateString(localeCode, options || defaultOptions);
      }
      
      /**
       * Format a date for forms (YYYY-MM-DD)
       */
      export function formatDateForInput(dateString: string): string {
        return new Date(dateString).toISOString().split('T')[0];
      }
      
      /**
       * Get relative time (e.g., "2 hours ago")
       */
      export function getRelativeTime(dateString: string, locale: AppLocale = 'en'): string {
        const localeCode = locale === 'fa' ? 'fa-IR' : 'en-US';
        const rtf = new Intl.RelativeTimeFormat(localeCode, { numeric: 'auto' });
        const now = new Date();
        const date = new Date(dateString);
        const diffInSeconds = Math.floor((date.getTime() - now.getTime()) / 1000);
        
        const intervals: { unit: Intl.RelativeTimeFormatUnit; seconds: number }[] = [
          { unit: 'year', seconds: 31536000 },
          { unit: 'month', seconds: 2592000 },
          { unit: 'week', seconds: 604800 },
          { unit: 'day', seconds: 86400 },
          { unit: 'hour', seconds: 3600 },
          { unit: 'minute', seconds: 60 },
          { unit: 'second', seconds: 1 },
        ];
        
        for (const interval of intervals) {
          const count = Math.floor(Math.abs(diffInSeconds) / interval.seconds);
          if (count >= 1) {
            return rtf.format(diffInSeconds > 0 ? count : -count, interval.unit);
          }
        }
        return rtf.format(0, 'second');
      }
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // TEXT UTILITIES
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Truncate text to a maximum length
       */
      export function truncateText(text: string, maxLength: number): string {
        if (text.length <= maxLength) return text;
        return text.substring(0, maxLength).trim() + '...';
      }
      
      /**
       * Capitalize first letter
       */
      export function capitalize(text: string): string {
        return text.charAt(0).toUpperCase() + text.slice(1);
      }
      
      /**
       * Convert to title case
       */
      export function toTitleCase(text: string): string {
        return text
          .toLowerCase()
          .split(' ')
          .map(word => word.charAt(0).toUpperCase() + word.slice(1))
          .join(' ');
      }
      
      /**
       * Slugify a string
       */
      export function slugify(text: string): string {
        return text
          .toLowerCase()
          .replace(/[^\w\s-]/g, '')
          .replace(/[\s_-]+/g, '-')
          .replace(/^-+|-+$/g, '');
      }
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // LOCALE UTILITIES
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Check if locale is RTL
       */
      export function isRTL(locale: AppLocale): boolean {
        return locale === 'fa';
      }
      
      /**
       * Get direction for a locale
       */
      export function getDirection(locale: AppLocale): 'ltr' | 'rtl' {
        return isRTL(locale) ? 'rtl' : 'ltr';
      }
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // VALIDATION
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Validate email format
       */
      export function isValidEmail(email: string): boolean {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      }
      
      /**
       * Validate URL format
       */
      export function isValidUrl(url: string): boolean {
        try {
          new URL(url);
          return true;
        } catch {
          return false;
        }
      }
      
      /**
       * Check if string is empty or whitespace only
       */
      export function isEmpty(value: string | null | undefined): boolean {
        return value === null || value === undefined || value.trim() === '';
      }
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // FILE UTILITIES
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Format file size for display
       */
      export function formatFileSize(bytes: number): string {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
      }
      
      /**
       * Get file extension from filename
       */
      export function getFileExtension(filename: string): string {
        return filename.slice(((filename.lastIndexOf('.') - 1) >>> 0) + 2).toLowerCase();
      }
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // ASYNC UTILITIES
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Sleep for a given number of milliseconds
       */
      export function sleep(ms: number): Promise<void> {
        return new Promise(resolve => setTimeout(resolve, ms));
      }
      
      /**
       * Debounce a function
       */
      export function debounce<T extends (...args: unknown[]) => unknown>(
        func: T,
        wait: number
      ): (...args: Parameters<T>) => void {
        let timeoutId: ReturnType<typeof setTimeout> | null = null;
        
        return (...args: Parameters<T>) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          timeoutId = setTimeout(() => {
            func(...args);
          }, wait);
        };
      }
      
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // OBJECT UTILITIES
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      
      /**
       * Deep clone an object
       */
      export function deepClone<T>(obj: T): T {
        return JSON.parse(JSON.stringify(obj));
      }
      
      /**
       * Check if two objects are deeply equal
       */
      export function deepEqual(a: unknown, b: unknown): boolean {
        return JSON.stringify(a) === JSON.stringify(b);
      }
      
      /**
       * Pick specific keys from an object
       */
      export function pick<T extends object, K extends keyof T>(
        obj: T,
        keys: K[]
      ): Pick<T, K> {
        const result = {} as Pick<T, K>;
        for (const key of keys) {
          if (key in obj) {
            result[key] = obj[key];
          }
        }
        return result;
      }
      
      /**
       * Omit specific keys from an object
       */
      export function omit<T extends object, K extends keyof T>(
        obj: T,
        keys: K[]
      ): Omit<T, K> {
        const result = { ...obj };
        for (const key of keys) {
          delete result[key];
        }
        return result as Omit<T, K>;
      }

files_to_modify: []

files_available:
  - id: F079
    path: "src/lib/types.ts"
    from_block: B03

commands: []

instructions: |
  1. Create src/lib/constants.ts with all application constants.
  
  2. Create src/lib/helpers.ts with all utility functions.
  
  3. Both files import types from [F079] src/lib/types.ts.
  
  4. Make sure all functions and constants are exported.
  
  5. Do NOT modify any existing files.
  
  6. Note: There's already a src/lib/utils.ts from shadcn (F090) - 
     we keep that and add helpers.ts separately.

checkpoint_tests:
  - id: T01
    description: "constants.ts file exists"
    type: "files_exist"
    files:
      - "src/lib/constants.ts"

  - id: T02
    description: "helpers.ts file exists"
    type: "files_exist"
    files:
      - "src/lib/helpers.ts"

  - id: T03
    description: "Key constants are exported"
    type: "grep"
    file: "src/lib/constants.ts"
    patterns:
      - "export const APP_NAME"
      - "export const SUPPORTED_LOCALES"
      - "export const SUPPORTED_OUTPUT_LANGUAGES"
      - "export const SUPPORTED_AI_PROVIDERS"
      - "export const TONE_PRESETS"
      - "export const CV_REQUIRED_FIELDS"
      - "export const MAIN_NAVIGATION"

  - id: T04
    description: "Key helpers are exported"
    type: "grep"
    file: "src/lib/helpers.ts"
    patterns:
      - "export function cn"
      - "export function generateId"
      - "export function formatDate"
      - "export function isRTL"
      - "export function truncateText"

  - id: T05
    description: "TypeScript compiles without errors"
    type: "command"
    command: "npx tsc --noEmit"
    expected_exit_code: 0

max_retries: 3